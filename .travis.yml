language: android
jdk: oraclejdk8
notifications:
  email:
    - external-ci-notifications+braintree-android-drop-in@getbraintree.com
sudo: true
env:
    - JAVA_OPTS="-XX:MaxPermSize=1024m -XX:+CMSClassUnloadingEnabled -XX:+HeapDumpOnOutOfMemoryError -Xmx2048m"
android:
  components:
    - tools
    - tools
    - platform-tools
    - build-tools-27.0.3
    - android-27
    - extra-google-m2repository
before_install:
  - yes | sdkmanager "platforms;android-27"
script: ./gradlew --stacktrace lint test :Demo:assembleDebug :Demo:assembleRelease
after_success: ./script/deploy_snapshot.sh
